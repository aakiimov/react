(this["webpackJsonpfinbox-mini-app"]=this["webpackJsonpfinbox-mini-app"]||[]).push([[0],{436:function(e,t,n){},437:function(e,t,n){},438:function(e,t,n){},439:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){"use strict";n.r(t);n(246),n(272),n(274),n(275),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314);var r=n(4),a=n(1),c=n.n(a),i=n(70),o=n.n(i),s=n(35),u=n(51),l=n.n(u),d=n(9),j=n(183),b={apiKey:"AIzaSyCumX0HBTrTWuiyCOkwfSmI_ro5pGEGCzM",authDomain:"finbox-mini-app.firebaseapp.com",databaseURL:"https://finbox-mini-app-default-rtdb.firebaseio.com",projectId:"finbox-mini-app",storageBucket:"finbox-mini-app.appspot.com",messagingSenderId:"261332152446",appId:"1:261332152446:web:1b0638cbb10e860a86a82f"},m=n(36),f=n(40),h=n(45),p=n(185),x=n(174),O=n.n(x),v=n(175),w="SET_USER",g="FETCH_ACCESS_TOKEN",k={access_token:""};var y="SET_FRIENDS",_=[{id:5234123,first_name:"Test",last_name:"Test",photo_100:"...",track_code:"...",nickname:"..."},{id:876543,first_name:"Test 2",last_name:"Test 2",photo_100:"...",track_code:"...",nickname:"..."}];var D=function(e){return e.friends},C=Object(h.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload.user;default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload.friends;default:return e}}}),S=n(34),N=n.n(S),M=n(52),A=N.a.mark(Y);function Y(){var e,t,n,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=window.location.search,t=new URLSearchParams(e),n=t.get("vk_app_id"),a.next=5,l.a.send("VKWebAppGetAuthToken",{app_id:Number(n),scope:"friends"}).catch((function(){alert("\u041f\u0440\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435.")}));case 5:return r=a.sent,a.next=8,Object(M.b)({type:w,payload:{user:{access_token:r.access_token}}});case 8:case"end":return a.stop()}}),A)}var B=N.a.mark(E);function E(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.c)(g,Y);case 2:case"end":return e.stop()}}),B)}var I=N.a.mark(z);function z(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{order:"hints",fields:"nickname,photo_100",v:"5.21",access_token:K.getState().user.access_token}}).catch((function(){alert("\u041f\u0440\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435.")}));case 2:return e=t.sent,t.next=5,Object(M.b)({type:y,payload:{friends:e.response.items}});case 5:case"end":return t.stop()}}),I)}var T=N.a.mark(L);function L(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.c)(w,z);case 2:case"end":return e.stop()}}),T)}var P=N.a.mark(H);function H(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.a)([E(),L()]);case 2:case"end":return e.stop()}}),P)}var F=n(176),R=Object(p.a)(),K=Object(h.createStore)(C,Object(v.composeWithDevTools)(Object(h.applyMiddleware)(O.a,R)));Object(F.a)();R.run(H);var U=n(58),V=n(459),W=n(460);function G(){return{type:g}}var J=n(39),q=(n(436),Object(J.block)("dashboard-card"));function X(e){return Object(r.jsx)(d.e,{className:q(),onClick:function(){return e.onClick&&e.onClick()},children:Object(r.jsxs)("div",{className:q("container"),children:[e.title&&Object(r.jsx)("span",{className:q("subtitle"),children:e.title}),e.subtitle&&Object(r.jsx)("strong",{className:q("title"),children:e.subtitle}),e.children&&Object(r.jsx)("div",{className:q("children"),children:e.children})]})})}Object(f.b)((function(e){return{friends:D(e)}}))((function(e){return Object(r.jsx)(d.m,{header:Object(r.jsx)(d.n,{mode:"primary",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),mode:"plain",children:e.friends.length>0?(t=e.friends,t.map((function(e){return Object(r.jsxs)(d.x,{before:Object(r.jsx)(d.c,{src:e.photo_100,size:48}),children:[e.first_name," ",e.last_name]})}))):Object(r.jsx)(d.y,{size:"medium"})});var t}));var Q=n(457);n(437);var Z,$=Object(J.block)("contact-fix");function ee(e){return Object(r.jsx)("div",{className:$(),children:e.children})}!function(e){e.AddDebt="add-debt"}(Z||(Z={}));n(438);var te=Object(J.block)("add-button");function ne(e){return Object(r.jsx)("button",{type:"button",className:te(),onClick:function(){return e.onModalShow&&e.onModalShow(Z.AddDebt)},children:Object(r.jsx)(Q.a,{color:"#fff"})})}function re(e,t){return"".concat(e," ").concat(t)}n(439);var ae=n(33),ce=n.n(ae),ie=Object(J.block)("debt-card");function oe(e){var t=re(e.first_name,e.last_name);return Object(r.jsxs)("div",{className:ie(),children:[Object(r.jsx)(d.c,{src:e.photo_100,size:48}),Object(r.jsxs)("div",{className:ie("content"),children:[Object(r.jsx)("span",{className:ie("username"),children:t}),Object(r.jsxs)("div",{className:ie("datestamp"),children:[Object(r.jsx)("span",{className:ie("date"),children:ce()(e.createdAt).format("DD-MM-YYYY")}),e.expirationDate&&Object(r.jsx)("span",{className:ie("date",{return:!0}),children:ce()(e.expirationDate).format("DD-MM-YYYY")})]})]}),Object(r.jsxs)("span",{className:ie("price"),children:[e.sum," \u20bd"]})]})}n(440);var se=Object(J.block)("debt-container");Object(f.b)((function(e){return{friends:D(e)}}))((function(e){var t=c.a.useState("max-amount"),n=Object(U.a)(t,2),a=n[0],i=n[1],o=window.location.search,s=new URLSearchParams(o).get("vk_user_id");function u(t){return t.map((function(t){var n,a=(n=Number(t.contactId),e.friends.find((function(e){return e.id===n})));return a&&Object(r.jsx)(oe,{first_name:a.first_name,last_name:a.last_name,photo_100:a.photo_100,sum:0,createdAt:"0000",expirationDate:null})||Object(r.jsx)(c.a.Fragment,{})}))}return console.log("onCHange"),console.log("onCHange123123"),Object(r.jsxs)("div",{className:se(),children:[Object(r.jsxs)("span",{className:se("header"),children:["\u0417\u0430\u0439\u043c\u044b \u043f\u043e ",Object(r.jsxs)("button",{type:"button",onClick:function(){return function(){switch(a){case"max-amount":return i("return-date");case"return-date":return i("max-amount")}}()},children:["max-amount"===a&&"\u0431\u043e\u043b\u044c\u0448\u0435\u0439 \u0441\u0443\u043c\u043c\u0435 \u20bd","return-date"===a&&"\u0434\u0430\u0442\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"]})]}),Object(r.jsxs)("div",{className:se("content"),children:["max-amount"===a&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(m.b,{path:"".concat(s),children:function(e){return e.isLoading?Object(r.jsx)(d.y,{size:"medium"}):e.value&&u(Object.values(e.value).sort((function(e,t){return Number(t.summary)-Number(e.summary)})))}})}),"return-date"===a&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(m.b,{path:"".concat(s),children:function(e){return e.isLoading?Object(r.jsx)(d.y,{size:"medium"}):e.value&&u(Object.values(e.value).sort((function(e,t){return ce()(e.returnDate).diff(ce()(t.returnDate))})))}})})]})]})})),n(441);var ue=Object(J.block)("catalog-item");function le(e){return Object(r.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:ue(),children:[Object(r.jsx)(d.c,{src:e.avatarSrc,size:48}),Object(r.jsx)("span",{className:ue("title"),children:e.title}),Object(r.jsx)("span",{className:ue("value"),children:e.value})]})}var de,je=n(177),be=n(178),me=n(187),fe=n(184),he=n(179),pe=n.n(he);function xe(){return new URLSearchParams(window.location.search).get("vk_user_id")}!function(e){e.borrowed="borrowed",e.lent="lent"}(de||(de={}));var Oe,ve=function(e){Object(me.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(je.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).instance=void 0,e.onClickSlide=function(t){var n;null===(n=e.instance)||void 0===n||n.select(t)},e}return Object(be.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;null===(e=this.instance)||void 0===e||e.on("change",(function(e){t.props.onChange&&t.props.onChange(e)}))}},{key:"render",value:function(){var e=this,t={initialIndex:this.props.initialIndex||0,cellAlign:"left",prevNextButtons:!1,pageDots:!1};function n(e,t){var n=0;return t.isLoading||null===t.value||Object.values(t.value).forEach((function(t){t.type===e&&(n=Number(t.sum)+n)})),"".concat(n," \u20bd")}return Object(r.jsxs)(pe.a,{flickityRef:function(t){return e.instance=t},options:t,children:[Object(r.jsx)("div",{className:"carousel-cell carousel-cell-1",children:Object(r.jsx)(m.b,{path:xe()||"/",children:function(t){return Object(r.jsx)(X,{title:"\u0412\u044b\u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0439\u043c\u044b",subtitle:t.isLoading?Object(r.jsx)(d.y,{size:"regular"}):n(de.borrowed,t),onClick:function(){return e.onClickSlide(0)}})}})}),Object(r.jsx)("div",{className:"carousel-cell carousel-cell-2",children:Object(r.jsx)(m.b,{path:xe()||"/",children:function(t){return Object(r.jsx)(X,{title:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0439\u043c\u044b",subtitle:t.isLoading?Object(r.jsx)(d.y,{size:"regular"}):n(de.lent,t),onClick:function(){return e.onClickSlide(1)}})}})})]})}}]),n}(c.a.Component);!function(e){e[e.ByMaximumSum=0]="ByMaximumSum",e[e.ByExpirationDate=1]="ByExpirationDate"}(Oe||(Oe={}));var we=Object(J.block)("debt-container");var ge=Object(f.b)((function(e){return{friends:D(e)}}))((function(e){var t=c.a.useState(0),n=Object(U.a)(t,2),a=n[0],i=n[1],o=c.a.useState(Oe.ByMaximumSum),s=Object(U.a)(o,2),u=s[0],l=s[1];function j(t,n){return n.map((function(n){if(t===n.type){var a=e.friends.find((function(e){return e.id===n.friendId}));return a?Object(r.jsx)(oe,{first_name:a.first_name,last_name:a.last_name,photo_100:a.photo_100,sum:n.sum,createdAt:n.createdAt,expirationDate:n.expirationDate}):Object(r.jsx)(c.a.Fragment,{})}return Object(r.jsx)(c.a.Fragment,{})}))}return Object(r.jsxs)("div",{children:[Object(r.jsx)(ve,{onChange:function(e){return i(e)}}),Object(r.jsxs)("div",{className:we(),children:[Object(r.jsxs)("span",{className:we("header"),children:["\u0417\u0430\u0439\u043c\u044b \u043f\u043e "," ",Object(r.jsxs)("button",{type:"button",onClick:function(){return u===Oe.ByMaximumSum?l(Oe.ByExpirationDate):l(Oe.ByMaximumSum)},children:[u===Oe.ByMaximumSum&&"\u0431\u043e\u043b\u044c\u0448\u0435\u0439 \u0441\u0443\u043c\u043c\u0435 \u20bd",u===Oe.ByExpirationDate&&"\u0434\u0430\u0442\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"]})]}),Object(r.jsxs)("div",{className:we("content"),children:[0===a&&u===Oe.ByMaximumSum&&Object(r.jsx)(m.b,{path:xe()||"/",children:function(e){return e.isLoading?Object(r.jsx)(d.y,{size:"regular"}):e.value&&j(de.borrowed,Object.values(e.value).sort((function(e,t){return Number(t.sum)-Number(e.sum)})))}}),0===a&&u===Oe.ByExpirationDate&&Object(r.jsx)(m.b,{path:xe()||"/",children:function(e){return e.isLoading?Object(r.jsx)(d.y,{size:"medium"}):e.value&&j(de.borrowed,Object.values(e.value).sort((function(e,t){return ce()(new Date(e.expirationDate)).unix()-ce()(new Date(t.expirationDate)).unix()})))}}),1===a&&u===Oe.ByMaximumSum&&Object(r.jsx)(m.b,{path:xe()||"/",children:function(e){return e.isLoading?Object(r.jsx)(d.y,{size:"regular"}):e.value&&j(de.lent,Object.values(e.value).sort((function(e,t){return Number(t.sum)-Number(e.sum)})))}}),1===a&&u===Oe.ByExpirationDate&&Object(r.jsx)(m.b,{path:xe()||"/",children:function(e){return e.isLoading?Object(r.jsx)(d.y,{size:"medium"}):e.value&&j(de.lent,Object.values(e.value).sort((function(e,t){return ce()(new Date(e.expirationDate)).unix()-ce()(new Date(t.expirationDate)).unix()})))}})]})]})]})}));function ke(e){return Object(r.jsxs)(d.s,{id:e.id,children:[Object(r.jsx)(d.t,{fixed:!1,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(r.jsxs)(ee,{children:[Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"}),Object(r.jsx)(le,{href:"https://www.kredito24.ru/",avatarSrc:"https://www.orelbanks.ru/bimage/kredito24-logo.jpg",title:"kredito24",value:"\u0414\u043e 100 \u0440\u0443\u0431"})]})]})}function ye(e){return Object(r.jsxs)(d.s,{id:e.id,children:[Object(r.jsx)(d.t,{fixed:!1,children:"\u0412\u0441\u0435 \u0437\u0430\u0439\u043c\u044b"}),Object(r.jsx)(ne,{onModalShow:e.onShowModal}),Object(r.jsx)(ee,{children:Object(r.jsx)(ge,{})})]})}var _e=n(186),De=n(180),Ce=n(71),Se=n(458);var Ne=Object(f.b)((function(e){return{friends:D(e)}}))(d.D((function(e){var t={type:de.borrowed,sum:null,friendId:null,expirationDate:null};function n(t){var n={};return e.updateModalHeight&&e.updateModalHeight(),t.type?t.sum?t.friendId&&-1!==t.friendId||(n.friendId="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"):n.sum="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443":n.type="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u043e\u043b\u0433\u0430",n}function a(){return(a=Object(De.a)(N.a.mark((function t(n,r){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(Object(s.a)(Object(s.a)({},n),{},{createdAt:ce()().format("YYYY-MM-DD"),expirationDate:n.expirationDate&&ce()(new Date(n.expirationDate.year,n.expirationDate.month-1,n.expirationDate.day)).format("YYYY-MM-DD")})).then((function(){return e.onCancelModal&&e.onCancelModal()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){var t=[{value:-1,label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}];return e.friends.forEach((function(e){t.push({value:e.id,label:re(e.first_name,e.last_name),photo_100:e.photo_100})})),t}return Object(r.jsx)(d.p,{id:e.id,header:Object(r.jsx)(d.q,{left:Object(r.jsx)(d.u,{onClick:function(){return e.onCancelModal&&e.onCancelModal()},children:Object(r.jsx)(Se.a,{})}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0433"}),dynamicContentHeight:e.dynamicContentHeight,children:Object(r.jsx)(m.a,{path:xe()||"/",type:"push",children:function(e){var i=e.runMutation;return Object(r.jsx)(Ce.c,{initialValues:t,validate:n,onSubmit:function(e){return function(e,t){return a.apply(this,arguments)}(e,i)},children:function(e){var t=e.setFieldValue;return Object(r.jsxs)(Ce.b,{children:[Object(r.jsx)(Ce.a,{name:"type",children:function(e){var t=e.field,n=e.meta;return Object(r.jsxs)(d.l,{top:"\u0422\u0438\u043f \u0434\u043e\u043b\u0433\u0430*",bottom:n.touched&&n.error,children:[Object(r.jsx)(d.v,Object(s.a)(Object(s.a)({},t),{},{value:de.borrowed,defaultChecked:!0,children:"\u0414\u0430\u043b \u0432 \u0434\u043e\u043b\u0433"})),Object(r.jsx)(d.v,Object(s.a)(Object(s.a)({},t),{},{value:de.lent,children:"\u0412\u0437\u044f\u043b \u0432 \u0434\u043e\u043b\u0433"}))]})}}),Object(r.jsx)(Ce.a,{name:"sum",children:function(e){var t=e.field,n=e.meta;return Object(r.jsx)(d.l,{top:"\u0421\u0443\u043c\u043c\u0430*",bottom:n.touched&&n.error,status:n.touched&&n.error?"error":void 0,children:Object(r.jsx)(d.o,Object(s.a)(Object(s.a)({},t),{},{type:"number",min:1}))})}}),Object(r.jsx)(Ce.a,{name:"friendId",children:function(e){var n=e.field,a=e.meta;return Object(r.jsx)(d.l,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0430*",bottom:a.touched&&a.error,status:a.touched&&a.error?"error":void 0,children:Object(r.jsx)(d.w,Object(s.a)(Object(s.a)({},n),{},{options:c(),renderOption:function(e){var t=e.option,n=Object(_e.a)(e,["option"]);return Object(r.jsx)(d.i,Object(s.a)(Object(s.a)({},n),{},{before:t.photo_100&&Object(r.jsx)(d.c,{src:t.photo_100,size:24})}))},onChange:function(e){return t(n.name,Number(e.target.value))}}))})}}),Object(r.jsx)(Ce.a,{name:"expirationDate",children:function(e){var n=e.field,a=e.meta;return Object(r.jsx)(d.l,{top:"\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430",bottom:a.touched&&a.error,status:a.touched&&a.error?"error":void 0,children:Object(r.jsx)(d.j,Object(s.a)(Object(s.a)({},n),{},{min:{day:Number(ce()().format("D")),month:Number(ce()().format("M")),year:Number(ce()().format("YYYY"))},max:{day:Number(ce()().format("D")),month:Number(ce()().format("M")),year:Number(ce()().format("YYYY"))+1e3},onDateChange:function(e){return t(n.name,e)}}))})}}),Object(r.jsx)(d.l,{children:Object(r.jsx)(d.d,{type:"submit",mode:"primary",size:"l",before:Object(r.jsx)(Q.a,{}),stretched:!0,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})}})}})})})));var Me,Ae=Object(f.b)((function(e){return{friends:D(e)}}))((function(e){var t=c.a.useState(null),n=Object(U.a)(t,2),a=n[0],i=n[1];function o(){return i(null)}var s=Object(r.jsx)(d.r,{activeModal:a,onClose:o,children:Object(r.jsx)(Ne,{id:Z.AddDebt,onCancelModal:o,dynamicContentHeight:!0})});return Object(r.jsx)(d.B,{id:e.id,modal:s,activePanel:e.activePanel,children:Object(r.jsx)(ye,{id:e.id,onShowModal:function(e){return i(e)}})})}));function Ye(e){return Object(r.jsx)(d.B,{id:e.id,activePanel:e.activePanel,children:Object(r.jsx)(ke,{id:e.id})})}!function(e){e.Catalog="catalog",e.App="app"}(Me||(Me={}));var Be=Me;var Ee=Object(f.b)(null,(function(e){return{fetchAccessToken:Object(h.bindActionCreators)(G,e)}}))((function(e){var t=c.a.useState(Be.App),n=Object(U.a)(t,2),a=n[0],i=n[1];function o(e){return i(e.currentTarget.dataset.story)}return c.a.useEffect((function(){e.fetchAccessToken()}),[e]),Object(r.jsx)(d.b,{children:Object(r.jsxs)(d.k,{activeStory:a,tabbar:Object(r.jsxs)(d.z,{children:[Object(r.jsx)(d.A,{onClick:o,selected:a===Be.Catalog,"data-story":Be.Catalog,text:"\u0417\u0430\u0439\u043c\u044b",children:Object(r.jsx)(V.a,{})}),Object(r.jsx)(d.A,{onClick:o,selected:a===Be.App,"data-story":Be.App,text:"\u0422\u0440\u044d\u043a\u0435\u0440",children:Object(r.jsx)(W.a,{})})]}),children:[Object(r.jsx)(Ye,{id:Be.Catalog,activePanel:Be.Catalog}),Object(r.jsx)(Ae,{id:Be.App,activePanel:Be.App})]})})}));function Ie(){return c.a.useEffect((function(){l.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;if("VKWebAppUpdateConfig"===n){var a=document.createAttribute("scheme");a.value=r.scheme?r.scheme:"client_light",document.body.attributes.setNamedItem(a)}}))}),[]),Object(r.jsx)(m.c,Object(s.a)(Object(s.a)({firebase:j.a},b),{},{children:Object(r.jsx)(f.a,{store:K,children:Object(r.jsx)(d.h,{children:Object(r.jsx)(d.a,{children:Object(r.jsx)(Ee,{})})})})}))}n(455);l.a.send("VKWebAppInit"),o.a.render(Object(r.jsx)(Ie,{}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.90421a21.chunk.js.map